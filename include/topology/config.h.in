/* Copyright 2009 INRIA, Universit√© Bordeaux 1  */

/* The configuration file */

#ifndef LIBTOPOLOGY_CONFIGURATION_H
#define LIBTOPOLOGY_CONFIGURATION_H

#include <limits.h>
#include <stdint.h>
#include <unistd.h>

#undef TOPO_HAVE_FFS

#undef TOPO_HAVE_DECL_FFS

#undef TOPO_HAVE_FFSL

#undef TOPO_HAVE_WINDOWS_H
#ifdef TOPO_HAVE_WINDOWS_H
#include <windows.h>
#endif

#define TOPO_NBMAXCPUS	1024

#define TOPO_CACHE_LEVEL_MAX 3

#if ULONG_MAX == UINT32_MAX
#define TOPO_BITS_PER_LONG 32
#elif ULONG_MAX == UINT64_MAX
#define TOPO_BITS_PER_LONG 64
#else
#error "unknown size for unsigned long."
#endif

#if UINT_MAX == UINT16_MAX
#define TOPO_BITS_PER_INT 16
#elif UINT_MAX == UINT32_MAX
#define TOPO_BITS_PER_INT 32
#elif UINT_MAX == UINT64_MAX
#define TOPO_BITS_PER_INT 64
#else
#error "unknown size for unsigned int."
#endif

#undef topo_pid_t
#ifdef _POSIX_THREADS
#  if (_POSIX_THREADS > 0)
#    include <pthread.h>
#  endif
#endif

#undef topo_thread_t

#endif /* LIBTOPOLOGY_CONFIGURATION_H */
