/*
 * Copyright © 2009 CNRS, INRIA, Université Bordeaux 1
 * See COPYING in top-level directory.
 */

/* The configuration file */

#ifndef TOPOLOGY_CONFIG_H
#define TOPOLOGY_CONFIG_H

#undef HWLOC_HAVE_FFS

#undef HWLOC_HAVE_DECL_FFS

#undef HWLOC_HAVE_FFSL

#define TOPO_NBMAXCPUS	1024

#define TOPO_CACHE_LEVEL_MAX 3

#undef HWLOC_SIZEOF_UNSIGNED_LONG
#undef HWLOC_SIZEOF_UNSIGNED_INT

#define TOPO_BITS_PER_LONG (HWLOC_SIZEOF_UNSIGNED_LONG * 8)
#define TOPO_BITS_PER_INT (HWLOC_SIZEOF_UNSIGNED_INT * 8)


#if (TOPO_BITS_PER_LONG != 32) && (TOPO_BITS_PER_LONG != 64)
#error "unknown size for unsigned long."
#endif

#if (TOPO_BITS_PER_INT != 16) && (TOPO_BITS_PER_INT != 32) && (TOPO_BITS_PER_INT != 64)
#error "unknown size for unsigned int."
#endif

#include <unistd.h>

#undef HWLOC_HAVE_WINDOWS_H
#undef hwloc_pid_t
#undef hwloc_thread_t

#ifdef HWLOC_HAVE_WINDOWS_H
#  include <windows.h>
#else /* HWLOC_HAVE_WINDOWS_H */
#  ifdef hwloc_thread_t
#    include <pthread.h>
#  endif /* hwloc_thread_t */
#endif /* HWLOC_HAVE_WINDOWS_H */

#endif /* TOPOLOGY_CONFIG_H */
